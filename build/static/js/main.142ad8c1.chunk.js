(this.webpackJsonptrade_cred=this.webpackJsonptrade_cred||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(0),i=n.n(a),l=n(7),o=n.n(l),c=(n(47),n(15)),r=n(11),d=n(23),h=n(22),j=(n(48),n(85)),p=n(36),b=n.n(p),u=n(34),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFileChange=function(e){a.setState({selectedFile:e.target.files[0]}),Object(u.ExcelRenderer)(e.target.files[0],(function(e,t){e?console.log(e):a.setState({rows:t.rows})}))},a.fileData=function(){return a.state.selectedFile?Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("h2",{children:"File Details:"}),Object(s.jsxs)("p",{children:["File Name: ",a.state.selectedFile.name]}),Object(s.jsxs)("p",{children:["File Type: ",a.state.selectedFile.type]}),Object(s.jsxs)("p",{children:["Last Modified:"," ",a.state.selectedFile.lastModifiedDate.toDateString()]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("h4",{style:{padding:"1%"},children:"Choose before Pressing the Upload button"})]})},a.uploadFile=function(e){var t=a.state.selectedFile.name.slice(a.state.selectedFile.name.lastIndexOf("."));[".xlsx",".xls"].indexOf(t)<0?alert("Invalid File Format. Use only .xls or .xlsx"):fetch("/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rows:a.state.rows})}).then((function(e){return e.json()})).then((function(e){a.props.handleClose(),a.props.handleData(e),a.setState({btn:!0})})).catch((function(e){console.log(e),alert("There was some error Uploading. Kindly Upload Again.")}))},a.state={selectedFile:null,rows:null,btn:!1},a}return Object(r.a)(n,[{key:"render",value:function(){var e,t=this;return e=this.state.btn?Object(s.jsx)(j.a,{onClick:function(){t.props.handleClose()},variant:"contained",color:"Default",children:"Info"}):" ",Object(s.jsxs)("div",{className:"upload-main",children:[Object(s.jsx)("h1",{children:"Select an excel file to process."}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"upload-input",id:"contained-button-file",type:"file",onChange:this.onFileChange}),Object(s.jsx)("label",{htmlFor:"contained-button-file",className:"upload-icon-label",children:Object(s.jsx)(j.a,{variant:"contained",color:"primary",component:"span",startIcon:Object(s.jsx)(b.a,{}),children:"Choose"})}),Object(s.jsx)(j.a,{onClick:this.uploadFile,variant:"outlined",color:"secondary",children:"Upload"})]}),this.fileData(),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),e]})}}]),n}(i.a.Component),x=n(84),f=n(83),m=n(82),v=n(86),g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e;return e=this.props.data?Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["Numer of Invoices Uploaded : ",Object(s.jsx)("strong",{children:this.props.data.numInvoices})]}),Object(s.jsxs)("p",{children:["The Total Sum of Invoice Amounts : ",Object(s.jsx)("strong",{children:this.props.data.totSum})]}),Object(s.jsxs)("p",{children:["Total Number of Vendors whose invoices were uploaded : ",Object(s.jsx)("strong",{children:this.props.data.numVendor})]}),Object(s.jsxs)("p",{children:["Total Number of Invalid Invoices : ",Object(s.jsx)("strong",{children:this.props.data.invalidInvoices})]})]}):" ",Object(s.jsx)("div",{children:Object(s.jsxs)(x.a,{onClose:this.props.handleClose,"aria-labelledby":"customized-dialog-title",open:this.props.close,children:[Object(s.jsx)(v.a,{id:"customized-dialog-title",onClose:this.props.handleClose,children:"Sheet Info"}),Object(s.jsx)(m.a,{dividers:!0,children:e}),Object(s.jsx)(f.a,{children:Object(s.jsx)(j.a,{autoFocus:!0,onClick:this.props.handleClose,color:"primary",children:"Close"})})]})})}}]),n}(a.Component),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleClose=function(){s.setState({dialogOpen:!s.state.dialogOpen})},s.handleData=function(e){s.setState({data:e})},s.state={dialogOpen:!1,data:null},s}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(O,{handleClose:this.handleClose,handleData:this.handleData}),Object(s.jsx)(g,{handleClose:this.handleClose,close:this.state.dialogOpen,data:this.state.data})]})}}]),n}(i.a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),s(e),a(e),i(e),l(e)}))};o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),F()}},[[57,1,2]]]);
//# sourceMappingURL=main.142ad8c1.chunk.js.map